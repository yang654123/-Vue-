(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b336124","chunk-2d0c9207"],{"19c0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-card",{attrs:{bordered:!1}},[i("a-col",{staticClass:"clName",attrs:{span:4}},[i("a-tree",{staticStyle:{height:"500px","overflow-y":"auto"},attrs:{treeData:t.treeData,defaultExpandAll:t.defaultExpandAll},on:{select:this.onSelect}})],1),i("a-col",{attrs:{span:2}}),i("a-col",{attrs:{span:18}},[i("a-spin",{attrs:{tip:"Loading...",spinning:t.spinning}},t._l(t.dataSource,(function(e,n){return i("div",{key:n},[i("a-row",[i("a-col",{attrs:{span:24}},[i("p",[i("a-divider",{attrs:{orientation:"left"}},[t._v(t._s(e.fileName))])],1)]),i("a-col",{attrs:{span:24}},[e.filePdfPath?[i("div",{staticStyle:{float:"left",width:"104px",height:"104px","margin-right":"10px",margin:"0 8px 8px 0"}},[i("div",{staticStyle:{width:"100%",height:"100%",position:"relative",padding:"8px"},on:{click:function(a){return t.pdfPreview(e.title)}}},[i("img",{staticStyle:{width:"100%"},attrs:{src:a("9f06")}})])])]:[t._v('(暂无材料，点击右侧"选择文件"或"扫描上传"上传文件)')]],2)],1)],1)})),0)],1),i("pdf-preview-modal",{ref:"pdfmodal"})],1)},n=[],r=a("0fea"),s=a("9fb0"),d=a("588f"),o=[{id:"1",key:"1",title:"实例.pdf",fileCode:"shili",fileName:"实例",filePdfPath:"实例"}],l={name:"JeecgPdfView",components:{PdfPreviewModal:d["default"]},data:function(){return{description:"PDF预览页面",treeData:[{title:"所有PDF电子档",key:"0-0",children:o}],dataSource:o,allData:o,defaultExpandAll:!0,spinning:!1,url:{pdfList:"/api/pdfList"}}},created:function(){},methods:{loadData:function(){var t=this;this.spinning=!1,Object(r["getAction"])(this.url.pdfList).then((function(e){e.length>0&&(t.allData=e,t.dataSource=e,t.treeData[0].children=e),t.spinning=!1}))},pdfPreview:function(t){var e=Vue.ls.get(s["a"]);this.headers={"X-Access-Token":e},this.$refs.pdfmodal.previewFiles(t,e)},onSelect:function(t,e){this.dataSource=[],void 0===t[0]||"0-0"===t[0]?this.dataSource=this.allData:this.dataSource.push(e.node._props.dataRef),console.log("SELECT--\x3edataSource",this.dataSource)},modalFormOk:function(){this.loadData()}}},c=l,f=(a("5eed"),a("2877")),u=Object(f["a"])(c,i,n,!1,null,"0adcacd1",null);e["default"]=u.exports},"588f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"none"}},[a("iframe",{attrs:{id:t.id,src:t.url,frameborder:"0",width:"100%",height:"550px",scrolling:"auto"}})])},n=[],r=a("9fb0"),s={name:"PdfPreviewModal",data:function(){return{url:window._CONFIG["pdfDomainURL"],id:"pdfPreviewIframe",headers:{}}},created:function(){var t=Vue.ls.get(r["a"]);this.headers={"X-Access-Token":t}},computed:{},mounted:function(){window.addEventListener("message",this.handleScanFileMessage)},methods:{handleScanFileMessage:function(t){var e=t.data;console.log(e)},previewFiles:function(t,e){var a=document.getElementById("pdfPreviewIframe"),i={title:t,token:e};a.contentWindow.postMessage(i,"*")}}},d=s,o=a("2877"),l=Object(o["a"])(d,i,n,!1,null,"11155ba1",null);e["default"]=l.exports},"5eed":function(t,e,a){"use strict";var i=a("809f"),n=a.n(i);n.a},"809f":function(t,e,a){},"9f06":function(t,e,a){t.exports=a.p+"img/pdf.133b73c1.png"}}]);