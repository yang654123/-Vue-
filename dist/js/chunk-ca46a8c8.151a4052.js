(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca46a8c8"],{"3c3c":function(e,t,n){},b7a6:function(e,t,n){"use strict";var o=n("3c3c"),i=n.n(o);i.a},d87f:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("online-common-list",{ref:"onl_"+e.mainModel.currentTableName,attrs:{code:e.code,model:e.mainModel},on:{seleted:e.onSelected}}),n("a-tabs",{attrs:{defaultActiveKey:"0"}},e._l(e.subList,(function(t,o){return n("a-tab-pane",{key:o+"",attrs:{tab:t.description,forceRender:!0}},[n("online-common-list",{ref:t.currentTableName,refInFor:!0,attrs:{code:t.code,model:t,main:e.selectedRow}})],1)})),1)],1)},i=[],r=(n("ac4d"),n("8a81"),n("ac6a"),n("0fea")),c={name:"OnlCgformErpList",components:{},data:function(){return{code:"",url:{getColumns:"/online/cgform/api/getErpColumns/"},mainModel:{},subList:[],mainId:"",selectedRow:{}}},watch:{$route:function(){this.initColumnConfig()}},created:function(){this.initColumnConfig()},methods:{getSubIndex:function(e){return e+1+""},getSubRef:function(e){var t=e.currentTableName;return console.log("ref string",t),t},initColumnConfig:function(){var e=this;if(!this.$route.params.code)return!1;this.code=this.$route.params.code,Object(r["getAction"])("".concat(this.url.getColumns).concat(this.code)).then((function(t){console.log("erp表单配置",t),t.success&&(e.mainModel=t.result.main,e.subList=t.result.subList,e.$nextTick((function(){if(e.$refs["onl_"+e.mainModel.currentTableName].initListByModel(),e.subList&&e.subList.length>0){var t=!0,n=!1,o=void 0;try{for(var i,r=e.subList[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var c=i.value;e.$refs[c.currentTableName][0].initListByModel()}}catch(a){n=!0,o=a}finally{try{t||null==r.return||r.return()}finally{if(n)throw o}}}})))}))},onSelected:function(e){console.log("onSelected",e),this.selectedRow=e}}},a=c,s=(n("b7a6"),n("2877")),l=Object(s["a"])(a,o,i,!1,null,null,null);t["default"]=l.exports}}]);